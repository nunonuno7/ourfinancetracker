{% extends "base.html" %}
{% load widget_tweaks %}
{% load static %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">{% if form.instance.pk %}Edit Account{% else %}New Account{% endif %}</h2>

  <form method="post" id="account-form" novalidate>
    {% csrf_token %}
    <div style="display:none">
      {{ form.non_field_errors }}
    </div>

    <input type="hidden" name="confirm_merge" id="confirm_merge" value="false">

    <div class="mb-3">
      <label for="{{ form.name.id_for_label }}" class="form-label">Name</label>
      {{ form.name|add_class:"form-control" }}
      {{ form.name.errors }}
    </div>

    <div class="mb-3">
      <label for="{{ form.account_type.id_for_label }}" class="form-label">Type</label>
      {{ form.account_type|add_class:"form-select" }}
      {{ form.account_type.errors }}
    </div>

    <div class="mb-3">
      <label for="{{ form.currency.id_for_label }}" class="form-label">Currency</label>
      {{ form.currency|add_class:"form-select" }}
      {{ form.currency.errors }}
    </div>

    <div class="d-flex gap-2">
      <button type="button" class="btn btn-success">ğŸ’¾ Save</button>

      {% if form.instance.pk %}
        <button type="button" class="btn btn-outline-danger" onclick="confirmDelete()">ğŸ—‘ï¸ Delete</button>
      {% endif %}

      <a href="{% url 'account_list' %}" class="btn btn-secondary">â† Back</a>
    </div>
  </form>
</div>

<!-- â¬‡ï¸ Script externo separado -->
<script src="{% static 'core/js/account_form.js' %}"></script>
{% endblock %}
